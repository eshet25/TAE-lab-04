---
title: "Lab 04 - La Quinta is Spanish for next to Denny's, Pt. 1"
author: "Tsion"
date: "02-08-2026"
output: github_document
---

### Load packages and data

```{r load-packages, message = FALSE}
library(tidyverse) 
library(dsbox) 
```

*Install dsbox first
```{r install-dsbox}
#manually downloaded and opened the two datasets.
```

```{r load-data, message = FALSE}
states <- read_csv("data/states.csv")
```

```{r assign-shorter-values-for-datasets }
dn <- dennys
lq <- laquinta
```


### Exercise 1

```{r dennys-dimensions}
nrow(dn)
ncol(dn)
```

The Dennys dataset contains `r nrow(dn)` and `r ncol(dn)` columns. The rows represent a Denny's restaurant the data contains. The variables are address, city, state, zip (code), longitude, and latitude. 

### Exercise 2

```{r laquinta-dimensions}
nrow(lq)
ncol(lq)
```

The Laquinta dataset contains `r nrow(lq)` and `r ncol(lq)` columns. The rows represent a Laquinta hotel the data contains. The variables are address, city, state, zip (code), longitude, and latitude (same as the dennys' dataset). 

### Exercise 3

Laquinta hotels have locations in the following places outisde of US:

North America: Canada, Mexico

Asia: China

Australia & the Pacific Rim: New Zealnd

Europe: Georgia, Turkiye

Middle East: UAE (Abu Dhabi, Dubai)

South America: Colomibia, Ecuador

For Denny's, the link only shows the U.S locations. It lists "View U.S Locations (1257)" in the website. But our dataset contains 1643 observations so I suspected there might be locations outside the U.S that we just can't access through the website. But I am also not sure why the numbers in our dataset are higher since it looks like it's listing the (US) states and zip codes there too. 

I did a general google search, and wikipedia says, "It operates over 1,400 restaurants in the United States, Canada, México, Puerto Rico, and several other international locations." (https://en.wikipedia.org/wiki/Denny%27s) 

However, I wasn't able to find a specific link that shows the different Denny's locations outside the U.S. 

### Exercise 4

The first idea I had was to look at the latitude and longitude data and filter out the places that would be outside of the U.S. But then, I took a brief look at the dennys dataset, and it looks like most of the abbreviations under the column "state" were US states. So, I thought maybe looking at what distinct states are included in the data will let me know whether we have stores outside the US (at least in the context of our data). 

So, I would use a function to list all the unique values that are included in the "state" column of our data, and also maybe see the counts of the distinct values as well. If the output shows all states that are US states, I would think the data only contans US locations. 

### Exercise 5

```{r filter-states-outisde-us-dennys}
dn %>%
  filter(!(state %in% states$abbreviation))
#Filter for states that are not in states$abbreviation
```

As I suspected, there are no US locations for Denny's in this dataset.

### Exercise 6

```{r add-country-variable-to-dennys}
dn %>%
  mutate(country = "United States")
#Mutate for new variable and set all observations equal to "United States".
#We don’t need to tell R how many times to repeat the character string “United States” to fill in the data for all observations, R takes care of that automatically.
```

```{r save-the-new-variable}
dn <- dn %>%
  mutate(country = "United States")
```

### Exercise 7

```{r filter-states-outisde-us-laquinta}
lq %>%
  filter(!(state %in% states$abbreviation))
```

There are 14 locations of Laquinta outside of the US in this dataset. After searching up the abbreviations,here are the locations:

Mexico: AG (Aguascalientes), QR (Quintana Roo), CH (Chihuahua), NL (Nuevo León), VE	(Veracruz), PU	(Puebla) & SL	(San Luis Potosí).

Colombia: ANT (Antioquia)

Canada: ON (Ontario), BC (British Columbia).

Honduras: FM (Francisco Morazán).

### Exercise 8

```{r add-country-variable-for-laquinta}
lq <- lq %>%
  mutate(country = case_when(
    state %in% state.abb ~ "United States",
    state %in% c("ON", "BC") ~ "Canada",
    state == "ANT" ~ "Colombia",
    state == "FM" ~ "Honduras",
    state %in% c("AG", "QR", "CH", "NL", "VE", "PU", "SL") ~ "Mexico"
  ))
```

```{r only-US-locations-for-laquinta}
lq <- lq %>%
  filter(country == "United States")
```

The lq dataset now has `r nrow(lq)` rows after filtering only US locations. 
